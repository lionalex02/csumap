// BottomMenu.jsx
import React from 'react';
import RouteMenu from './RouteMenu.jsx';
import SettingsMenu from './SettingsMenu.jsx';
import '../BottomMenu.css';

function BottomMenu({activeMenu, setActiveMenu}) {
    const handleMapClick = () => {
        setActiveMenu(null); // Закрываем все меню
    };

    const handleRouteClick = () => {
        setActiveMenu(activeMenu === 'route' ? null : 'route'); // Переключаем меню маршрута
    };

    const handleSettingsClick = () => {
        setActiveMenu(activeMenu === 'settings' ? null : 'settings'); // Переключаем меню настроек
    };

    const getIconColor = (menuType) => {
        return activeMenu === menuType ? 'white' : '#D6322D';
    };

    return (
        <>
            <div className="bottom-menu">
                <button
                    onClick={handleMapClick}
                    className={activeMenu === null ? 'active' : ''}
                >
                    <svg width="40" height="40" viewBox="0 0 70 70" fill={getIconColor(null)}
                         xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M47.438 17.0979C48.744 18.2356 49.644 20.0732 50.012 21.9975L50.142 22.0553L54.232 24.1574C54.4605 24.2742 54.6541 24.4612 54.7902 24.6962C54.9262 24.9312 54.999 25.2045 55 25.4839V52.9641C54.9985 53.1924 54.9495 53.4171 54.8567 53.6208C54.7639 53.8245 54.6299 54.0015 54.4652 54.138C54.3005 54.2745 54.1096 54.3667 53.9074 54.4075C53.7053 54.4482 53.4974 54.4364 53.3 54.3729L41.962 50.8176L28.482 54.9462C28.2388 55.0209 27.9816 55.0178 27.74 54.9373L15.948 51.0376C15.6754 50.9486 15.436 50.7644 15.2652 50.5122C15.0944 50.26 15.0014 49.9533 15 49.6377V21.6642C15 20.6865 15.856 19.9843 16.71 20.2599L28.114 23.9507L33.91 21.9797C33.99 21.9531 34.0713 21.9346 34.154 21.9242C34.378 20.4665 35.004 19.0666 36.054 17.7023C37.3 16.0802 39.486 15.1292 41.616 15.0158C43.826 14.8981 45.514 15.4225 47.436 17.0957M17.666 23.6263V48.5466L27.406 51.7664V26.7749L17.666 23.6263ZM34.084 24.9906L30.072 26.3528V51.4153L40.202 48.3178V40.9961C40.202 40.1873 40.8 39.5318 41.536 39.5318C42.272 39.5318 42.868 40.1873 42.868 40.9983V48.0578L52.334 51.0242V26.415L50.094 25.2595C50.0567 25.5039 50.008 25.7432 49.948 25.9772C49.5147 27.6817 48.785 29.2753 47.8 30.668L42.846 37.5408C42.7156 37.7215 42.549 37.8659 42.3595 37.9625C42.17 38.0591 41.9628 38.1053 41.7545 38.0973C41.5461 38.0893 41.3423 38.0274 41.1592 37.9165C40.9762 37.8056 40.8189 37.6488 40.7 37.4586L36.07 30.008C35.3047 28.8244 34.7707 27.7608 34.468 26.8172C34.2777 26.2266 34.1489 25.6138 34.084 24.9906ZM41.744 17.9445C40.292 18.0223 38.8 18.6711 38.09 19.5933C37.236 20.7043 36.816 21.7442 36.732 22.7975C36.632 24.0663 36.7 24.9617 36.984 25.8483C37.194 26.5039 37.612 27.3349 38.258 28.337L41.88 34.1633L45.7 28.8637C46.4712 27.7698 47.0425 26.5191 47.382 25.1817C47.862 23.3152 47.138 20.5732 45.782 19.3955C44.392 18.1845 43.342 17.8578 41.746 17.9445M42.022 19.4933C44.23 19.4933 46.022 21.4598 46.022 23.8863C46.0151 25.0579 45.59 26.1786 44.84 27.0022C44.0901 27.8259 43.0765 28.2852 42.022 28.2793C39.814 28.2793 38.022 26.3128 38.022 23.8863C38.022 21.4598 39.814 19.4933 42.022 19.4933ZM42.022 22.4219C41.8479 22.4208 41.6752 22.4577 41.5139 22.5307C41.3527 22.6036 41.2059 22.7112 41.082 22.8471C40.9582 22.9831 40.8596 23.1449 40.792 23.3232C40.7244 23.5015 40.689 23.6928 40.688 23.8863C40.688 24.6951 41.286 25.3506 42.022 25.3506C42.1961 25.3515 42.3687 25.3142 42.5299 25.241C42.6911 25.1678 42.8377 25.06 42.9614 24.9238C43.0851 24.7876 43.1834 24.6257 43.2508 24.4473C43.3181 24.2689 43.3532 24.0775 43.354 23.884C43.3514 23.4941 43.2097 23.1212 42.96 22.8471C42.7103 22.5731 42.373 22.4202 42.022 22.4219Z"/>
                    </svg>

                </button>
                <button
                    onClick={handleRouteClick}
                    className={activeMenu === 'route' ? 'active' : ''}
                >
                    <svg width="40" height="40" viewBox="0 0 70 70" fill={getIconColor('route')}
                         xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M21.3828 19.6838C20.9055 19.6838 20.4476 19.8729 20.1101 20.2095C19.7725 20.5461 19.5829 21.0026 19.5829 21.4787C19.5829 21.9547 19.7725 22.4113 20.1101 22.7479C20.4476 23.0845 20.9055 23.2736 21.3828 23.2736H21.3988C21.8762 23.2736 22.334 23.0845 22.6716 22.7479C23.0092 22.4113 23.1988 21.9547 23.1988 21.4787C23.1988 21.0026 23.0092 20.5461 22.6716 20.2095C22.334 19.8729 21.8762 19.6838 21.3988 19.6838H21.3828Z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M20.6949 31.2032L21.3968 30.3337L20.4549 31.4984C20.722 31.7133 21.055 31.8303 21.3982 31.8299C21.7414 31.8296 22.0741 31.7118 22.3408 31.4964L21.3968 30.3337L22.6208 31.8394L22.0288 31.1115L22.3408 31.4964H22.3428L22.3448 31.4924L22.3508 31.4884L22.3668 31.4745L22.4188 31.4326L22.5988 31.277C23.4891 30.481 24.302 29.6029 25.0268 28.6544C26.3267 26.9472 27.7667 24.4124 27.7667 21.4787C27.7817 20.6333 27.6277 19.7935 27.3136 19.0081C26.9996 18.2228 26.5319 17.5077 25.9377 16.9046C25.3435 16.3015 24.6348 15.8224 23.8529 15.4954C23.071 15.1684 22.2317 15 21.3838 15C20.536 15 19.6966 15.1684 18.9148 15.4954C18.1329 15.8224 17.4242 16.3015 16.83 16.9046C16.2358 17.5077 15.7681 18.2228 15.454 19.0081C15.14 19.7935 14.986 20.6333 15.001 21.4787C15.001 24.4144 16.449 26.9492 17.7569 28.6584C18.4856 29.6067 19.3025 30.4841 20.1969 31.279L20.3769 31.4346L20.4289 31.4784L20.4449 31.4904L20.4509 31.4964L20.4549 31.4984L20.6149 31.299L20.1789 31.8374L20.6949 31.2032ZM17.9989 21.4787C17.9989 20.5835 18.3555 19.7249 18.9903 19.0919C19.6251 18.4589 20.4861 18.1032 21.3838 18.1032C22.2816 18.1032 23.1425 18.4589 23.7773 19.0919C24.4121 19.7249 24.7688 20.5835 24.7688 21.4787C24.7688 23.4611 23.7728 25.3537 22.6368 26.8455C22.2519 27.3504 21.8372 27.8319 21.3948 28.2875C20.9482 27.8309 20.5295 27.3481 20.1409 26.8415C19.0009 25.3517 18.0009 23.4571 18.0009 21.4767"/>
                        <path
                            d="M48.6142 42.8543C48.1368 42.8543 47.679 43.0434 47.3414 43.38C47.0038 43.7166 46.8142 44.1732 46.8142 44.6492C46.8142 45.1253 47.0038 45.5818 47.3414 45.9184C47.679 46.2551 48.1368 46.4442 48.6142 46.4442H48.6302C49.1075 46.4442 49.5654 46.2551 49.9029 45.9184C50.2405 45.5818 50.4301 45.1253 50.4301 44.6492C50.4301 44.1732 50.2405 43.7166 49.9029 43.38C49.5654 43.0434 49.1075 42.8543 48.6302 42.8543H48.6142Z"/>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M47.6862 54.6669C47.9535 54.8823 48.2869 54.9997 48.6305 54.9993C48.9742 54.9989 49.3073 54.8809 49.5741 54.6649L49.5821 54.657L49.5981 54.645L49.6521 54.6011L49.8321 54.4456C50.7224 53.6495 51.5353 52.7714 52.2601 51.823C53.56 50.1158 55 47.581 55 44.6472C55 42.9589 54.3274 41.3396 53.1302 40.1458C51.933 38.9519 50.3093 38.2812 48.6162 38.2812C46.9231 38.2812 45.2993 38.9519 44.1021 40.1458C42.9049 41.3396 42.2323 42.9589 42.2323 44.6472C42.2323 47.5849 43.6803 50.1178 44.9883 51.827C45.7169 52.7753 46.5338 53.6527 47.4282 54.4476L47.6082 54.6031L47.6602 54.647L47.6782 54.659L47.6822 54.6649L47.6862 54.6669ZM45.2322 44.6472C45.2322 43.7523 45.5888 42.894 46.2234 42.2611C46.858 41.6283 47.7187 41.2728 48.6162 41.2728C49.5136 41.2728 50.3743 41.6283 51.009 42.2611C51.6436 42.894 52.0001 43.7523 52.0001 44.6472C52.0001 46.6296 51.0041 48.5243 49.8701 50.0141C49.4846 50.519 49.0692 51.0005 48.6262 51.456C48.1796 51.0001 47.7609 50.5179 47.3722 50.0121C46.2322 48.5203 45.2322 46.6276 45.2322 44.6472Z"/>
                        <path
                            d="M26.2747 31.8394H31.7946C32.9366 31.8394 34.0318 32.2918 34.8393 33.0971C35.6468 33.9023 36.1005 34.9945 36.1005 36.1333C36.1005 37.2721 35.6468 38.3643 34.8393 39.1695C34.0318 39.9748 32.9366 40.4272 31.7946 40.4272H22.3148C20.3769 40.4272 18.5184 41.1948 17.1481 42.5613C15.7778 43.9278 15.008 45.7811 15.008 47.7136C15.008 49.6461 15.7778 51.4994 17.1481 52.8659C18.5184 54.2323 20.3769 55 22.3148 55H43.6183C43.2583 54.6011 42.8743 54.1464 42.4863 53.6418C42.084 53.1157 41.7082 52.5699 41.3603 52.0065H22.3148C21.1728 52.0065 20.0776 51.5541 19.2701 50.7488C18.4626 49.9436 18.0089 48.8514 18.0089 47.7126C18.0089 46.5738 18.4626 45.4816 19.2701 44.6764C20.0776 43.8711 21.1728 43.4187 22.3148 43.4187H31.7946C33.7325 43.4187 35.591 42.651 36.9613 41.2846C38.3316 39.9181 39.1014 38.0648 39.1014 36.1323C39.1014 34.1998 38.3316 32.3465 36.9613 30.98C35.591 29.6136 33.7325 28.8459 31.7946 28.8459H28.5247C28.1814 29.4022 27.811 29.9413 27.4147 30.4613C27.0247 30.9759 26.6347 31.4366 26.2747 31.8374"/>
                    </svg>
                </button>
                <button
                    onClick={handleSettingsClick}
                    className={activeMenu === 'settings' ? 'active' : ''}
                >
                    <svg width="40" height="40" viewBox="0 0 70 70" fill={getIconColor('settings')}
                         xmlns="http://www.w3.org/2000/svg">
                        <g id="setting">
                            <path id="Vector" fill-rule="evenodd" clip-rule="evenodd"
                                  d="M36.126 17.4H33.874L32.584 22.556L31.29 22.956C30.536 23.1883 29.8054 23.491 29.108 23.86L27.91 24.494L23.35 21.758L21.758 23.352L24.494 27.912L23.86 29.108C23.4903 29.8054 23.187 30.5359 22.954 31.29L22.556 32.584L17.4 33.874V36.126L22.556 37.416L22.956 38.71C23.1867 39.4673 23.488 40.1947 23.86 40.892L24.494 42.09L21.758 46.65L23.352 48.242L27.912 45.506L29.108 46.14C29.8053 46.5107 30.5327 46.8127 31.29 47.046L32.584 47.444L33.874 52.6H36.126L37.416 47.444L38.71 47.044C39.464 46.8116 40.1946 46.509 40.892 46.14L42.09 45.506L46.65 48.242L48.242 46.648L45.506 42.088L46.14 40.892C46.5107 40.1947 46.8127 39.4673 47.046 38.71L47.444 37.416L52.6 36.126V33.874L47.444 32.584L47.044 31.29C46.8116 30.536 46.509 29.8054 46.14 29.108L45.506 27.91L48.242 23.35L46.648 21.758L42.088 24.494L40.892 23.86C40.1946 23.4903 39.4641 23.187 38.71 22.954L37.416 22.556L36.126 17.4ZM42.016 21.74L45.682 19.54C46.0643 19.3107 46.5122 19.2157 46.9546 19.2701C47.397 19.3244 47.8086 19.525 48.124 19.84L50.16 21.876C50.475 22.1914 50.6756 22.603 50.7299 23.0454C50.7843 23.4878 50.6893 23.9357 50.46 24.318L48.26 27.984C48.7 28.8107 49.06 29.6773 49.34 30.584L53.486 31.622C53.9185 31.7303 54.3024 31.9801 54.5767 32.3316C54.851 32.6831 55 33.1161 55 33.562V36.438C55 36.8839 54.851 37.3169 54.5767 37.6684C54.3024 38.0199 53.9185 38.2697 53.486 38.378L49.34 39.416C49.06 40.3227 48.7 41.1893 48.26 42.016L50.46 45.682C50.6893 46.0643 50.7843 46.5122 50.7299 46.9546C50.6756 47.397 50.475 47.8086 50.16 48.124L48.124 50.16C47.8086 50.475 47.397 50.6756 46.9546 50.7299C46.5122 50.7843 46.0643 50.6893 45.682 50.46L42.016 48.26C41.1893 48.7 40.3227 49.06 39.416 49.34L38.378 53.486C38.2697 53.9185 38.0199 54.3024 37.6684 54.5767C37.3169 54.851 36.8839 55 36.438 55H33.562C33.1161 55 32.6831 54.851 32.3316 54.5767C31.9801 54.3024 31.7303 53.9185 31.622 53.486L30.584 49.34C29.6854 49.0623 28.8149 48.7007 27.984 48.26L24.318 50.46C23.9357 50.6893 23.4878 50.7843 23.0454 50.7299C22.603 50.6756 22.1914 50.475 21.876 50.16L19.84 48.124C19.525 47.8086 19.3244 47.397 19.2701 46.9546C19.2157 46.5122 19.3107 46.0643 19.54 45.682L21.74 42.016C21.2993 41.1851 20.9377 40.3146 20.66 39.416L16.514 38.378C16.0818 38.2697 15.6982 38.0203 15.4239 37.6692C15.1497 37.3181 15.0005 36.8855 15 36.44V33.564C15 33.1181 15.149 32.6851 15.4233 32.3336C15.6976 31.9821 16.0815 31.7323 16.514 31.624L20.66 30.586C20.94 29.6793 21.3 28.8127 21.74 27.986L19.54 24.32C19.3107 23.9377 19.2157 23.4898 19.2701 23.0474C19.3244 22.605 19.525 22.1934 19.84 21.878L21.876 19.84C22.1914 19.525 22.603 19.3244 23.0454 19.2701C23.4878 19.2157 23.9357 19.3107 24.318 19.54L27.984 21.74C28.8107 21.3 29.6773 20.94 30.584 20.66L31.622 16.514C31.7303 16.0818 31.9797 15.6982 32.3308 15.4239C32.6819 15.1497 33.1145 15.0005 33.56 15H36.436C36.8819 15 37.3149 15.149 37.6664 15.4233C38.0179 15.6976 38.2677 16.0815 38.376 16.514L39.414 20.66C40.3207 20.94 41.1873 21.3 42.014 21.74H42.016ZM35 40.6C36.4852 40.6 37.9096 40.01 38.9598 38.9598C40.01 37.9096 40.6 36.4852 40.6 35C40.6 33.5148 40.01 32.0904 38.9598 31.0402C37.9096 29.99 36.4852 29.4 35 29.4C33.5148 29.4 32.0904 29.99 31.0402 31.0402C29.99 32.0904 29.4 33.5148 29.4 35C29.4 36.4852 29.99 37.9096 31.0402 38.9598C32.0904 40.01 33.5148 40.6 35 40.6ZM35 43C32.8783 43 30.8434 42.1571 29.3431 40.6569C27.8429 39.1566 27 37.1217 27 35C27 32.8783 27.8429 30.8434 29.3431 29.3431C30.8434 27.8429 32.8783 27 35 27C37.1217 27 39.1566 27.8429 40.6569 29.3431C42.1571 30.8434 43 32.8783 43 35C43 37.1217 42.1571 39.1566 40.6569 40.6569C39.1566 42.1571 37.1217 43 35 43Z"/>
                        </g>
                    </svg>
                </button>
            </div>
            {activeMenu === 'route' && <RouteMenu/>}
            {activeMenu === 'settings' && <SettingsMenu/>}
        </>
    );
}

export default BottomMenu;